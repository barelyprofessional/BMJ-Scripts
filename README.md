This repository contains scripts used for my BossmanJack live stream capturing system and associated post processing.

## Scripts
* `kick_capture/main.py` listens for the "Start Stream" event from Kick and runs the download script
* `kick_capture/bmj_dl.bat` runs yt-dlp and auto-restarts it in the event of errors
* `kick_capture/Test-FfmpegDied.ps1` is used by the batch script to check if `ffmpeg` encountered an error while capturing and restart the capture if necessary. Note this used to be very frequent, but it seems Kick has resolved the random 500 errors since December.
* `Export-WavFiles.ps1` automates extracting wav audio from the streams for running whispercpp
* `New-WhisperCppTranscription.ps1` automates the transcription process
* `Export-WhisperCsvToTxt.ps1` creates nicely formatted txt files from the CSV files whispercpp generates
* `Write-CleanYtDlpMetadata.ps1` cleans the .info.json files generated by `yt-dlp`, stripping potentially sensitive information
* `grab_kick_vods/grab_kick_vods.py` grabs all Kick VODs for a channel and runs a companion script
* `grab_kick_vods/grab_kick_vod.bat` example batch script for retrieving a VOD if it hasn't already been downloaded
* `rapfame_dl/rapfame_dl.py` mass download tracks from Rap Fame by artist ID


## Known Issues
* The PowerShell CSV cmdlets are buggy when dealing with escaped double quoted strings in CSV files. Whispercpp will occassionally emit quoted text and this can lead to slight errors in the txt files.
* PowerShell's JSON cmdlets have a shallow depth by default, which leads to some heavily nested objects in the `yt-dlp` metadata becoming stringified. This is easily fixable by specifying a sufficient depth, but the property affected isn't important (HTTP headers) and I don't want to change the schema of my existing metadata files.
* There is no handling of `whispercpp` or `ffmpeg` errors
* The Rap Fame script doesn't support obtaining the artist ID from the page